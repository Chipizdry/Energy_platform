

function setLanguage(language) {
    const elements = document.querySelectorAll("[data-translate]");
    elements.forEach(element => {
        const key = element.getAttribute("data-translate");

        // Проверяем, есть ли перевод для данного языка и ключа
        if (translations[language] && translations[language][key]) {
            const translation = translations[language][key];

            // Обработка разных типов элементов
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                // Для input и textarea обрабатываем placeholder и value
                if (element.type === 'text' || element.type === 'password' || element.type === 'email') {
                    element.placeholder = translation;
                } else if (element.type === 'button' || element.type === 'submit') {
                    element.value = translation;
                }
            } else if (element.tagName === 'SELECT') {
                // Для select переводим placeholder (disabled option)
                const placeholderOption = element.querySelector("option[disabled][selected]");
                if (placeholderOption) {
                    placeholderOption.textContent = translation;
                }
            } else if (element.tagName === 'OPTION') {
                // Для option заменяем текст
                element.textContent = translation;
            } else {
                // Для остальных элементов заменяем текстовое содержимое
                element.textContent = translation;
            }
        }
    });

    // Сохраняем выбранный язык в localStorage
    localStorage.setItem('selectedLanguage', language);
}




function switchLanguage(language) {
    setLanguage(language);
}

document.addEventListener('DOMContentLoaded', function() {
    const userLang = localStorage.getItem('selectedLanguage') || navigator.language || navigator.userLanguage;
    const defaultLang = userLang.startsWith('ru') ? 'ru' : 
                        userLang.startsWith('en') ? 'en' : 
                        userLang.startsWith('zh') ? 'zh' :
                        userLang.startsWith('uk') ? 'uk' :'ru';
    setLanguage(defaultLang);
});




const translations = {
    ru: {
        title: "Авторизация",
        "email-label": "Электронная почта:",
        "password-label": "Пароль:",
        "login-button": "Войти",
        "login-button-google": "Войти через Google",
        "login-button-facebook": "Войти через Facebook",
        "registration": "Регистрация",
        "registration-button": "Регистрация",
        "forgot-password-button": "Забыли пароль?",
        "message-ok": "Успешный вход",
        "message-error": "Произошла ошибка, пожалуйста, попробуйте снова",
        "confirmation-message": "Код подтверждения выслан Вам на имейл!",
        "error-message": "Произошла ошибка при отправке кода подтверждения на почту.",
        "send-code-on-male": "Отправить код на имейл",
        "invalid-code": "Неверный код, пожалуйста, попробуйте снова",
        "passwordsDoNotMatch": 'Пароли не совпадают!',
        "passwordsMatch": 'Пароли совпадают!',
        "password-requirements": "Пароль должен быть от 8 до 15 символов",
        "signup-title": "Регистрация",
        "confirm-password-label": "Подтвердите пароль:",
        "signup-button": "Зарегистрироваться",
        "password-message": "Пароль должен содержать от 8 до 15 символов",
        "verification-code-placeholder": "Введите код",
        "confirm-button": "Подтвердить",
        "send-again-countdown": "Отправить ещё через {countdown}с",
        "send-code-email": "Отправить код на имейл",
        "error-message": "Произошла ошибка при отправке кода подтверждения на почту.",
        "back-link-text": "<<<назад<<<",
        "password-placeholder": "Введите пароль",
        "confirm-password-placeholder": "Подтвердите пароль",
        "confirmationMessage": "Ваша почта успешно подтверждена!",
        "registrationSuccess": 'Регистрация прошла успешно!',
        "heading": "Сброс пароля",
        'loginSuccess': 'Вход выполнен успешно!',
        'password-changed': 'Пароль изменён!',
        'fillAllFields': "Заполните все поля",
        'login-error': 'Ошибка входа.',
        'recovery-button': 'Восстановить доступ',
        "recovery-modal-title": "Восстановление доступа",
        "recovery-modal-select-method": "Выберите способ восстановления:",
        "recovery-modal-super-password-btn": "Ввести супер-пароль",
        "recovery-modal-file-upload-btn": "Прикрепить файл",
        "recovery-modal-email-label": "Email:",
        "recovery-modal-super-password-label": "Супер-пароль:",
        "recovery-modal-recovery-file-label": "Файл восстановления:",
        "recovery-modal-send-btn": "Отправить",
        "recovery-modal-choose-file": "Выберите файл",
        "recovery-modal-no-file": "Файл не выбран",
        "no-account-text": "Нет аккаунта?",
        "password_placeholder": "Пароль",
        "gender-label": "Пол:",
        "female-option": "Женский",
        "male-option": "Мужской",
        "birth-year-placeholder": "Выберите год рождения",
        "LogOut-button": "Выйти",
        "welcome-message": "Приветствуем в COR-ID",
        "doc": "Врач",
        "lab": "Лаборант",
        "direction": "Направление",
        "tenderloin": "Вырезка",
        "glass": "Стекла",
        "conclusion": "Заключение",
        "exploration": "Исследования",
        "currentCases": "Текущее кейсы",
        "sign": "Подписать",
        "signature": "Подпись",
        "printReport": "Печать исследования",
        "createDoctorSign": "Создать подпись",
        "waitingSignatureQRTitle": "Вам необходимо подтвердить действие",
        "waitingSignatureQRDescription": "Пожалуйста, отсканируйте QR-код ниже и выполните все шаги подтверждения в приложении COR-ID.",
        "waitingSignatureQRLoading": "Ожидание...",
        "waitingSignatureQRBtn": "Подписать принудительно",
        "main-title-report": "Патоморфологическое исследование",
        "subtitle1": "МЕДИЦИНСКАЯ ДОКУМЕНТАЦИЯ 014/о",
        "subtitle2": "Утверждено приказом МОЗ Украины 29.05.2013 г. № 435",
        "reportType": "Патогистология",
        "biopsyDate": "Дата биопсии:",
        "arrivalDate": "Дата поступления:",
        "reportDate": "Дата окончания:",
        "patient": "Пациент:",
        "f": "Жен",
        "m": "Муж",
        "patientBirthDate": "Д/р:",
        "age": "Возраст: ",
        "yearsSuffix": "л.",
        "contact": "Контакты",
        "medCard": "Мед. карта:",
        "medCentre": "Мед. центр:",
        "medDepartment": "Отделение:",
        "attendingDoctor": "Лечащий врач:",
        "clinicalData": "Клинические данные:",
        "clinicalDiagnosis": "Клинический диагноз:",
        "containersAmount": "Количество контейнеров:",
        "received": "Получено",
        "declared": "Заявлено",
        "blocksAmount": "Количество блоков:",
        "fixation": "Фиксация:",
        "decalcification": "Декальцинация:",
        "macroarchive": "Макроархив:",
        "painting": "Окрашивание:",
        "macrodescription": "Макроскопическое описание: ",
        "microdescription": "Микроскопическое описание: ",
        "macrodes_short": "Макроописание: ",
        "microdes_short": "Мbкроописание: ",
        "immunohistochemicalProfile": "Иммуногистохимический профиль: ",
        "molecularGeneticProfile": "Молекулярно-генетический профиль: ",
        "pathomorphologicalDiagnosis": "Патогистологическое заключение: ",
        "comment": "Комментарий: ",
        "footer-right": "Документ создано ПО COR-Lab",
        "currentDoctor": "Врач: ",
        "date": "Дата: ",
        "owner": "Владелец: ",
        "ownCase": "Личный кейс",
        "takeCase": "Забрать кейс", 
        "icdCode": "Код ICD",
        "updateReport": "Обновить репорт",
        "conclusionUpdated": "Заключение успешно обновлено"
    },
    en: {
        title: "Authorization",
        "email-label": "Email:",
        "password-label": "Password:",
        "login-button": "Login",
        "login-button-google": "Login with Google",
        "login-button-facebook": "Login with Facebook",
        "registration": "Registration",
        "registration-button": "Register",
        "forgot-password-button": "Forgot Password?",
        "message-ok": "Successful Login",
        "message-error": "An error occurred, please try again",
        "confirmation-message": "Confirmation code sent to your email!",
        "error-message": "An error occurred while sending the verification code to your email.",
        "send-code-on-male": "Send code to email",
        "invalid-code": "Invalid code, please try again",
        "passwordsDoNotMatch": 'Passwords do not match!',
        "passwordsMatch": 'Passwords match!',
        "password-requirements": "Password must be 8 to 15 characters long",
        "signup-title": "Registration",
        "confirm-password-label": "Confirm Password:",
        "signup-button": "Sign Up",
        "password-message": "Password must be between 8 and 15 characters long",
        "verification-code-placeholder": "Enter code",
        "confirm-button": "Confirm",
        "send-again-countdown": "Send again in {countdown}s",
        "send-code-email": "Send code to email",
        "error-message": "An error occurred while sending the verification code to your email.",
        "back-link-text": "<<<back<<<",
        "password-placeholder": "Enter password",
        "confirm-password-placeholder": "Confirm password",
        "confirmationMessage": "Your email has been successfully confirmed!",
        "registrationSuccess": 'Registration successful!',
        "heading": "Password Reset",
        'loginSuccess': 'Login successful!',
        'password-changed': 'Password has been changed!',
        'fillAllFields': "Please fill out all fields",
        'login-error': 'Login error.',
        'recovery-button': 'Access Recovery',
        "recovery-modal-title": "Access Recovery",
        "recovery-modal-select-method": "Choose a recovery method:",
        "recovery-modal-super-password-btn": "Enter Super Password",
        "recovery-modal-file-upload-btn": "Attach Recovery File",
        "recovery-modal-email-label": "Email:",
        "recovery-modal-super-password-label": "Super Password:",
        "recovery-modal-recovery-file-label": "Recovery File:",
        "recovery-modal-send-btn": "Send",
        "recovery-modal-choose-file": "Choose File",
        "recovery-modal-no-file": "No file selected",
        "no-account-text": "Have no account?",
        "password_placeholder": "Password",
        "gender-label": "Gender:",
        "female-option": "Female",
        "male-option": "Male",
        "birth-year-placeholder": "Select year of birth",
        "LogOut-button": "Log Out",
        "welcome-message": "Welcome to COR-ID",
        "doc": "Doctor",
        "lab": "Lab Assistant",
        "direction": "Referral",
        "tenderloin": "Tissue Section",
        "glass": "Slides",
        "conclusion": "Conclusion",
        "exploration": "Examination",
        "currentCases": "Current Cases",
        "sign": "Sign",
        "signature": "Signature",
        "printReport": "Print Report",
        "createDoctorSign": "Create Signature",
        "waitingSignatureQRTitle": "Action confirmation required",
        "waitingSignatureQRDescription": "Please scan the QR-code below and complete all verification steps in the COR-ID application",
        "waitingSignatureQRLoading": "Waiting...",
        "waitingSignatureQRBtn": "Force Signature",
        "main-title-report": "Pathomorphological Examination",
        "subtitle1": "MEDICAL DOCUMENTATION FORM No. 014/o",
        "subtitle2": "Approved by the Order of the Ministry of Health of Ukraine No. 435 dated 29.05.2013",
        "reportType": "Pathohistology",
        "biopsyDate": "Biopsy Date:",
        "arrivalDate": "Specimen Received:",
        "reportDate": "Report Completed:",
        "patient": "Patient:",
        "f": "Female",
        "m": "Male",
        "patientBirthDate": "DOB:",
        "age": "Age: ",
        "yearsSuffix": "y.o.",
        "contact": "Contact Info",
        "medCard": "Medical record No.:",
        "medCentre": "Medical Facility:",
        "medDepartment": "Department:",
        "attendingDoctor": "Attending Doctor:",
        "clinicalData": "Clinical Data:",
        "clinicalDiagnosis": "Clinical Diagnosis:",
        "containersAmount": "Number of Containers:",
        "received": "Received",
        "declared": "Declared",
        "blocksAmount": "Number of Blocks:",
        "fixation": "Fixation:",
        "decalcification": "Decalcification:",
        "macroarchive": "Macro Archive:",
        "painting": "Staining Methods:",
        "macrodescription": "Macrodescription: ",
        "microdescription": "Microdescription: ",
        "macrodes_short": "Макроопис: ",
        "microdes_short": "Мікроопис: ",
        "immunohistochemicalProfile": "Immunohistochemical Profile: ",
        "molecularGeneticProfile": "Molecular-genetic profile: ",
        "pathomorphologicalDiagnosis": "Pathohistological Diagnosis: ",
        "comment": "Comment: ",
        "footer-right": "Document generated by COR-Lab software",
        "currentDoctor": "Doctor: ",
        "date": "Date: ",
        "owner": "Owner: ",
        "ownCase": "Assigned Case",
        "takeCase": "Take Case", 
        "icdCode": "Code ICD",
        "updateReport": "Update Report",
        "conclusionUpdated": "Conclusion successfully updated"

    },
    zh: {
        title: "授权",
        "email-label": "电子邮件：",
        "password-label": "密码：",
        "login-button": "登录",
        "login-button-google": "通过Google登录",
        "login-button-facebook": "通过Facebook登录",
        "registration": "注册",
        "registration-button": "注册",
        "forgot-password-button": "忘记密码？",
        "message-ok": "登录成功",
        "message-error": "发生错误，请重试",
        "confirmation-message": "确认码已发送至您的电子邮件",
        "error-message": "发送验证码到您的邮箱时出错。",
        "send-code-on-male": "发送验证码到邮箱",
        "invalid-code": "无效的验证码，请重试",
        "passwordsDoNotMatch": '密码不匹配!',
        "passwordsMatch": '密码匹配!',
        "password-requirements": "密码长度必须为8到15个字符",
        "signup-title": "注册",
        "confirm-password-label": "确认密码：",
        "signup-button": "注册",
        "password-message": "密码长度必须在8到15个字符之间",
        "verification-code-placeholder": "输入代码",
        "confirm-button": "确认",
        "send-again-countdown": "{countdown}秒后再发送",
        "send-code-email": "发送验证码到邮箱",
        "error-message": "发送验证码到您的邮箱时出错。",
        "back-link-text": "<<<返回<<<",
        "password-placeholder": "输入密码",
        "confirm-password-placeholder": "确认密码",
        "confirmationMessage": "您的邮件已成功确认！",
        "registrationSuccess": '注册成功！',
        "heading": "重设密码",
        'loginSuccess': '登录成功！',
        'password-changed': '密码已更改。',
        'fillAllFields': "请填写所有字段",
        'login-error': '登录错误。',
        'recovery-button': '恢复访问权限',
        "recovery-modal-title": "访问恢复",
        "recovery-modal-select-method": "选择恢复方式：",
        "recovery-modal-super-password-btn": "输入超级密码",
        "recovery-modal-file-upload-btn": "附加恢复文件",
        "recovery-modal-email-label": "电子邮件：",
        "recovery-modal-super-password-label": "超级密码：",
        "recovery-modal-recovery-file-label": "恢复文件：",
        "recovery-modal-send-btn": "发送",
        "recovery-modal-choose-file": "选择文件",
        "recovery-modal-no-file": "未选择文件",
        "no-account-text": "没有账户？",
        "password_placeholder": "密码",
        "gender-label": "性别:",
        "female-option": "女性",
        "male-option": "男性",
        "birth-year-placeholder": "选择出生年份",
        "LogOut-button": "退出",
        "welcome-message": "欢迎来到 COR-ID",
        "doc": "医生",
        "lab": "实验技师",
        "direction": "转诊单",
        "tenderloin": "组织切片",
        "glass": "载玻片",
        "conclusion": "结论",
        "exploration": "检查",
        "currentCases": "当前病例",
        "sign": "签名",
        "signature": "签名",
        "printReport": "打印报告",
        "createDoctorSign": "创建签名",
        "waitingSignatureQRTitle": "需要确认操作",
        "waitingSignatureQRDescription": "请扫描下方二维码并在 COR-ID 应用中完成所有验证步骤",
        "waitingSignatureQRLoading": "等待中...",
        "waitingSignatureQRBtn": "强制签名",
        "main-title-report": "病理形态学检查报告",
        "subtitle1": "医疗文档表格编号 014/o",
        "subtitle2": "根据乌克兰卫生部 2013 年 5 月 29 日第 435 号命令批准",
        "reportType": "病理组织学",
        "biopsyDate": "活检日期：",
        "arrivalDate": "样本接收日期：",
        "reportDate": "报告完成日期：",
        "patient": "患者：",
        "f": "女",
        "m": "男",
        "patientBirthDate": "出生日期：",
        "age": "年龄：",
        "yearsSuffix": "岁",
        "contact": "联系方式",
        "medCard": "病历号：",
        "medCentre": "医疗机构：",
        "medDepartment": "科室：",
        "attendingDoctor": "主治医生：",
        "clinicalData": "临床资料：",
        "clinicalDiagnosis": "临床诊断：",
        "containersAmount": "样本容器数量：",
        "received": "已接收",
        "declared": "申报内容",
        "blocksAmount": "石蜡块数量：",
        "fixation": "固定：",
        "decalcification": "脱钙：",
        "macroarchive": "宏观档案：",
        "painting": "染色方法：",
        "macrodescription": "宏观描述：",
        "microdescription": "显微描述：",
        "macrodes_short": "宏观描述: ",
        "microdes_short": "显微描述: ",
        "immunohistochemicalProfile": "免疫组化特征：",
        "molecularGeneticProfile": "分子遗传特征：",
        "pathomorphologicalDiagnosis": "病理组织学诊断：",
        "comment": "备注：",
        "footer-right": "由 COR-Lab 软件生成的文件",
        "currentDoctor": "医生：",
        "date": "日期：",
        "owner": "负责人：",
        "ownCase": "分配病例",
        "takeCase": "领取病例",
        "icdCode": "ICD 编码",
        "updateReport": "更新报告",
        "conclusionUpdated": "结论已成功更新"
    },
    uk: {
        title: "Авторизація",
        "email-label": "Електронна пошта:",
        "password-label": "Пароль:",
        "login-button": "Увійти",
        "login-button-google": "Увійти через Google",
        "login-button-facebook": "Увійти через Facebook",
        "registration": "Реєстрація",
        "registration-button": "Зареєструватися",
        "forgot-password-button": "Забули пароль?",
        "message-ok": "Успішний вхід",
        "message-error": "Сталася помилка, спробуйте ще раз",
        "confirmation-message": "Код підтвердження відправлено на Вашу пошту",
        "error-message": "Сталася помилка під час відправлення коду підтвердження на електронну пошту.",
        "send-code-on-male": "Надіслати код на електронну пошту",
        "invalid-code": "Невірний код, спробуйте ще раз",
        "passwordsDoNotMatch": 'Паролі не співпадають!',
        "passwordsMatch": 'Паролі співпадають!',
        "password-requirements": "Пароль повинен бути від 8 до 15 символів",
        "signup-title": "Реєстрація",
        "confirm-password-label": "Підтвердіть пароль:",
        "signup-button": "Зареєструватися",
        "password-message": "Пароль має містити від 8 до 15 символів",
        "verification-code-placeholder": "Введіть код",
        "confirm-button": "Підтвердити",
        "send-again-countdown": "Надіслати знову через {countdown}с",
        "send-code-email": "Надіслати код на електронну пошту",
        "error-message": "Сталася помилка під час відправлення коду підтвердження на електронну пошту.",
        "back-link-text": "<<<назад<<<",
        "password-placeholder": "Введіть пароль",
        "confirm-password-placeholder": "Підтвердіть пароль",
        "confirmationMessage": "Вашу пошту успішно підтверджено!",
        "registrationSuccess": 'Реєстрація пройшла успішно!',
        "heading": "Скидання пароля",
        'loginSuccess': 'Вхід виконано успішно!',
        'password-changed': 'Пароль змінено!',
        'login-error': 'Помилка входу.',
        'recovery-button': 'Восстановить доступ',
        "recovery-modal-title": "Відновлення доступу",
        "recovery-modal-select-method": "Виберіть спосіб відновлення:",
        "recovery-modal-super-password-btn": "Ввести супер-пароль",
        "recovery-modal-file-upload-btn": "Прикріпити файл",
        "recovery-modal-email-label": "Електронна пошта:",
        "recovery-modal-super-password-label": "Супер-пароль:",
        "recovery-modal-recovery-file-label": "Файл відновлення:",
        "recovery-modal-send-btn": "Надіслати",
        "recovery-modal-choose-file": "Оберіть файл",
        "recovery-modal-no-file": "Файл не вибран",
        "no-account-text": "Немає акаунта?",
        "password_placeholder": "Пароль",
        "gender-label": "Стать:",
        "female-option": "Жіноча",
        "male-option": "Чоловіча",
        "birth-year-placeholder": "Оберіть рік народження",
        "LogOut-button": "Вийти",
        "welcome-message": "Вітаємо в COR-ID",
        "doc": "Лікар",
        "lab": "Лаборант",
        "direction": "Направлення",
        "tenderloin": "Вирізка",
        "glass": "Скельця",
        "conclusion": "Заключення",
        "exploration": "Дослідження",
        "currentCases": "Поточні кейси",
        "sign": "Підисати",
        "signature": "Підпис",
        "printReport": "Друкувати дослідження",
        "createDoctorSign": "Створити підпис",
        "waitingSignatureQRTitle": "Вам необхідно підтвердити дію",
        "waitingSignatureQRDescription": "Будь ласка, відскануйте QR-код нижче та виконайте всі кроки підтвердження в додатку COR-ID",
        "waitingSignatureQRLoading": "Очікування...",
        "waitingSignatureQRBtn": "Підписати примусово",
        "main-title-report": "Патоморфологічне дослідження",
        "subtitle1": "МЕДИЧНА ДОКУМЕНТАЦІЯ 014/о",
        "subtitle2": " Затверджена наказом МОЗ України 29.05.2013 р. № 435",
        "reportType": "Патогістологія",
        "biopsyDate": "Дата біопсії:",
        "arrivalDate": "Дата надходження:",
        "reportDate": "Дата завершення:",
        "patient": "Пацієнт:",
        "f": "Жін",
        "m": "Чол",
        "patientBirthDate": "Д/н:",
        "age": "Вік: ",
        "yearsSuffix": "р.",
        "contact": "Контакти",
        "medCard": "Медична карта:",
        "medCentre": "Медичний заклад:",
        "medDepartment": "Відділення:",
        "attendingDoctor": "Лікар-куратор:",
        "clinicalData": "Клінічні дані:",
        "clinicalDiagnosis": "Клінічний діагноз:",
        "containersAmount": "Кількість контейнерів:",
        "received": "Отримано",
        "declared": "Заявлено",
        "blocksAmount": "Кількість блоків:",
        "fixation": "Фіксація:",
        "decalcification": "Декальцинація:",
        "macroarchive": "Макроархів:",
        "painting": "Фарбування:",
        "macrodescription": "Макроскопічний опис: ",
        "microdescription": "Мікроскопічний опис: ",
        "macrodes_short": "Макроопис: ",
        "microdes_short": "Мікроопис: ",
        "immunohistochemicalProfile": "Имуногістохімічний профіль: ",
        "molecularGeneticProfile": "Молекулярно-генетичний профіль: ",
        "pathomorphologicalDiagnosis": "Патогістологічний висновок: ",
        "comment": "Коментар: ",
        "footer-right": "Документ створено ПЗ COR-Lab",
        "currentDoctor": "Лікар: ",
        "date": "Дата: ",
        "owner": "Власник: ",
        "ownCase": "Особистий кейс",
        "takeCase": "Забрати кейс",
        "icdCode": "Код ICD",
        "updateReport": "Оновити репорт",
        "conclusionUpdated": "Заключення успішно оновлено"
    },
}